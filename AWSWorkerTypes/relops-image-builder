{
  "canUseSpot": true,
  "description": "Windows Image Builder for ISO to AMI continuous integration https://github.com/mozilla-platform-ops/relops_image_builder",
  "instanceTypes": [
    {
      "capacity": 1,
      "instanceType": "c4.4xlarge",
      "launchSpec": {
        "BlockDeviceMappings": [
          {
            "DeviceName": "/dev/sda1",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeSize": 40,
              "VolumeType": "gp2"
            }
          },
          {
            "DeviceName": "/dev/sdb",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeSize": 120,
              "VolumeType": "gp2"
            }
          }
        ],
        "IamInstanceProfile": {
          "Arn": "arn:aws:iam::692406183521:instance-profile/windows-ami-builder"
        }
      },
      "scopes": [],
      "secrets": {},
      "userData": {},
      "utility": 0.9
    },
    {
      "capacity": 1,
      "instanceType": "c5.4xlarge",
      "launchSpec": {
        "BlockDeviceMappings": [
          {
            "DeviceName": "/dev/sda1",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeSize": 40,
              "VolumeType": "gp2"
            }
          },
          {
            "DeviceName": "/dev/sdb",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeSize": 120,
              "VolumeType": "gp2"
            }
          }
        ],
        "IamInstanceProfile": {
          "Arn": "arn:aws:iam::692406183521:instance-profile/windows-ami-builder"
        }
      },
      "scopes": [],
      "secrets": {},
      "userData": {},
      "utility": 1
    }
  ],
  "lastModified": "2019-07-16T05:56:23.749Z",
  "launchSpec": {
    "SecurityGroups": [
      "rdp-only"
    ]
  },
  "maxCapacity": 4,
  "maxPrice": 2.5,
  "minCapacity": 0,
  "minPrice": 1.5,
  "owner": "Release Operations (grenade)",
  "regions": [
    {
      "launchSpec": {
        "ImageId": "ami-0ede49dc3a90ad389"
      },
      "region": "us-west-2",
      "scopes": [],
      "secrets": {},
      "userData": {}
    }
  ],
  "scalingRatio": 0,
  "scopes": [
    "assume:worker-type:aws-provisioner-v1/relops-image-builder",
    "assume:worker-id:*"
  ],
  "secrets": {},
  "userData": {
    "genericWorker": {
      "config": {
        "cachesDir": "Z:\\caches",
        "cleanUpTaskDirs": true,
        "disableReboots": true,
        "downloadsDir": "Z:\\downloads",
        "ed25519SigningKeyLocation": "C:\\generic-worker\\ed25519-private.key",
        "livelogExecutable": "C:\\generic-worker\\livelog.exe",
        "livelogPUTPort": 60022,
        "numberOfTasksToRun": 0,
        "runAfterUserCreation": "C:\\generic-worker\\task-user-init.cmd",
        "runTasksAsCurrentUser": false,
        "sentryProject": "generic-worker",
        "shutdownMachineOnIdle": false,
        "shutdownMachineOnInternalError": true,
        "taskclusterProxyExecutable": "C:\\generic-worker\\taskcluster-proxy.exe",
        "taskclusterProxyPort": 80,
        "tasksDir": "Z:\\",
        "wstAudience": "taskcluster-net",
        "wstServerURL": "https://websocktunnel.tasks.build",
        "deploymentId": "45989d24dea3",
        "workerTypeMetadata": {
          "machine-setup": {
            "manifest": "https://github.com/mozilla-releng/OpenCloudConfig/blob/45989d24dea3a7a309d8fd71dab3e8a483d43c58/userdata/Manifest/relops-image-builder.json",
            "ami-created": "2019-07-16 05:47:11.108Z"
          }
        }
      }
    }
  },
  "workerType": "relops-image-builder"
}
