{
  "hookGroupId": "project-servo",
  "hookId": "daily",
  "metadata": {
    "description": "Tasks are defined in-tree in `etc/ci/taskcluster/decision-task.py`.\n\nScopes at [`hook-id:project-servo/daily`](https://tools.taskcluster.net/auth/roles/hook-id%3Aproject-servo%2Fdaily)",
    "emailOnError": true,
    "name": "Daily tasks for Servo",
    "owner": "servo-ops@mozilla.com"
  },
  "schedule": [
    "7 13 10 * * *"
  ],
  "task": {
    "schedulerId": "taskcluster-github",
    "provisionerId": "aws-provisioner-v1",
    "workerType": "servo-docker-worker",
    "payload": {
      "image": "servobrowser/taskcluster-bootstrap:decision-task@sha256:28045b7ec0485ef363f8cb14f194008b47e9ede99f2ea40a1e945e921fce976e",
      "features": {
        "taskclusterProxy": true
      },
      "command": [
        "/bin/bash",
        "--login",
        "-e",
        "-c",
        "git init repo \u0026\u0026 cd repo \u0026\u0026 git fetch --depth 1 \"$GIT_URL\" \"$GIT_REF\" \u0026\u0026 git reset --hard FETCH_HEAD \u0026\u0026 python3 etc/taskcluster/decision_task.py"
      ],
      "maxRunTime": 600,
      "env": {
        "GIT_URL": "https://github.com/servo/servo.git",
        "GIT_REF": "refs/heads/jdm-patch-50",
        "TASK_FOR": "daily",
        "TASK_OWNER": "servo-ops@mozilla.com",
        "TASK_SOURCE": "https://tools.taskcluster.net/hooks/project-servo/daily"
      }
    },
    "metadata": {
      "name": "Servo daily: decision task. On failure, ping: SimonSapin, nox, emilio",
      "description": "",
      "owner": "servo-ops@mozilla.com",
      "source": "https://tools.taskcluster.net/hooks/project-servo/daily"
    },
    "routes": [
      "notify.irc-channel.#servo.on-failed"
    ],
    "scopes": [
      "assume:hook-id:project-servo/daily"
    ],
    "expires": {
      "$fromNow": "3 months"
    },
    "deadline": {
      "$fromNow": "6 hours"
    }
  },
  "triggerSchema": {
    "type": "object",
    "properties": {},
    "additionalProperties": false
  }
}
