{
  "hookGroupId": "project-socorro",
  "hookId": "fetch-mac-update-symbols",
  "metadata": {
    "description": "This hook runs a pair of tasks to scrape symbols for OS X system libraries out of Apple system updates. The scripts it runs are in this git repository: https://github.com/marco-c/breakpad-mac-update-symbols ",
    "emailOnError": true,
    "name": "Scrape symbols from Apple system updates",
    "owner": "mcastelluccio@mozilla.com"
  },
  "schedule": [
    "0 0 2 * * *"
  ],
  "task": {
    "provisionerId": "aws-provisioner-v1",
    "workerType": "symbol-upload",
    "scopes": [
      "assume:hook-id:project-socorro/fetch-mac-update-symbols"
    ],
    "payload": {
      "image": "luser/taskcluster-decision:0.2",
      "features": {
        "taskclusterProxy": true
      },
      "command": [
        "/bin/bash",
        "-c",
        "git clone https://github.com/marco-c/breakpad-mac-update-symbols/ \u0026\u0026 cd breakpad-mac-update-symbols \u0026\u0026 python run-taskcluster.py"
      ],
      "maxRunTime": 600
    },
    "metadata": {
      "name": "OS X symbol fetching decision task",
      "description": "Decision task to be scheduled as a Taskcluster hook to run OS X symbol fetching tasks",
      "owner": "mcastelluccio@mozilla.com",
      "source": "https://github.com/marco-c/breakpad-mac-update-symbols/blob/master/hook.json"
    }
  },
  "triggerSchema": {
    "type": "object",
    "properties": {},
    "additionalProperties": false
  }
}
