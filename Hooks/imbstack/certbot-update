{
  "hookGroupId": "imbstack",
  "hookId": "certbot-update",
  "metadata": {
    "description": "Experimentally update certs on imbstack.com.\nThere is nothing important on that site, so even if something goes wrong here, I'm not too worried :)",
    "emailOnError": true,
    "name": "certbot-update",
    "owner": "imbstack@gmail.com"
  },
  "schedule": [
    "00 00 1 * *"
  ],
  "task": {
    "provisionerId": "aws-provisioner-v1",
    "workerType": "tutorial",
    "payload": {
      "image": "imbstack/certbot-cf:latest",
      "features": {
        "taskclusterProxy": true
      },
      "command": [
        "/bin/bash",
        "-c",
        "/site/script.sh"
      ],
      "env": {
        "SECRET_URL": "taskcluster/secrets/v1/secret/repo:github.com/imbstack/imbstack.com"
      },
      "maxRunTime": 600
    },
    "metadata": {
      "name": "Certbot Update",
      "description": "Update certificates for imbstack.com",
      "owner": "imbstack@gmail.com",
      "source": "https://tools.taskcluster.net/hooks/#imbstack/certbot-update"
    },
    "schedulerId": "-",
    "routes": [
      "notify.email.imbstack@gmail.com.on-any"
    ],
    "priority": "normal",
    "retries": 5,
    "scopes": [
      "secrets:get:repo:github.com/imbstack/imbstack.com"
    ],
    "tags": {},
    "extra": {}
  },
  "triggerSchema": {
    "type": "object",
    "properties": {},
    "additionalProperties": false
  }
}
