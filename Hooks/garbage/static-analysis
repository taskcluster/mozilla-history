{
  "bindings": [
    {
      "exchange": "exchange/taskcluster-queue/v1/task-completed",
      "routingKeyPattern": "route.garbage.static-analysis"
    }
  ],
  "hookGroupId": "garbage",
  "hookId": "static-analysis",
  "metadata": {
    "description": "Desc",
    "name": "Test static analysis hook",
    "owner": "tprince@mozilla.com"
  },
  "schedule": [],
  "task": {
    "payload": {
      "env": {
        "ANALYSIS_TASK": "${payload.taskId}"
      },
      "command": [
        "static-analysis-bot",
        "--source",
        "try",
        "--taskcluster-secret",
        "project/relman/codereview/staging"
      ],
      "features": {
        "taskclusterProxy": true
      },
      "image": "mozillareleng/services:static-analysis-bot-staging",
      "maxRunTime": 1200,
      "onExitStatus": {}
    },
    "priority": "medium",
    "provisionerId": "aws-provisioner-v1",
    "scopes": [
      "secrets:get:project/relman/codereview/staging"
    ],
    "workerType": "gecko-3-b-linux"
  },
  "triggerSchema": {
    "type": "object",
    "properties": {
      "payload": {
        "type": "object"
      }
    }
  }
}
