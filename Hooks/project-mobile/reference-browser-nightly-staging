{
  "hookGroupId": "project-mobile",
  "hookId": "reference-browser-nightly-staging",
  "metadata": {
    "description": "(Staging) Nightly builds of the reference browser.\nUses mitchhentges' repository of reference-browser: https://github.com/mitchhentges/reference-browser/",
    "emailOnError": true,
    "name": "Reference Browser Nightly Builds (Staging)",
    "owner": "mhentges@mozilla.com"
  },
  "schedule": [],
  "task": {
    "provisionerId": "aws-provisioner-v1",
    "workerType": "mobile-1-decision",
    "schedulerId": "focus-nightly-sched",
    "retries": 5,
    "scopes": [
      "assume:hook-id:project-mobile/reference-browser-nightly-staging"
    ],
    "payload": {
      "image": "mozillamobile/android-components:1.15",
      "features": {
        "taskclusterProxy": true
      },
      "command": [
        "/bin/bash",
        "-cx",
        "export REPO_OWNER='mitchhentges' \u0026\u0026 export GIT_BRANCH='remove-flavors' \u0026\u0026 git remote remove origin \u0026\u0026 git remote add origin https://github.com/$REPO_OWNER/reference-browser \u0026\u0026 git fetch origin $GIT_BRANCH \u0026\u0026 git checkout $GIT_BRANCH \u0026\u0026 pip install json-e GitPython PyYaml arrow \u0026\u0026 python automation/taskcluster/schedule_nightly_graph.py nightly"
      ],
      "maxRunTime": 300,
      "expires": {
        "$fromNow": "1 year"
      },
      "artifacts": {}
    },
    "metadata": {
      "name": "Schedule Decision Task",
      "description": "Reference Browser - Schedule cron decision task - Staging",
      "owner": "mhentges@mozilla.com",
      "source": "https://tools.taskcluster.net/hooks/project-mobile/reference-browser-nightly-staging"
    },
    "tags": {},
    "extra": {}
  },
  "triggerSchema": {
    "type": "object",
    "properties": {},
    "additionalProperties": false
  }
}
